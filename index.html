<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bright Smile Dental - AI Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chatbot-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 123, 191, 0.1);
            max-width: 400px;
            width: 100%;
            overflow: hidden;
            position: relative;
        }

        .chatbot-header {
            background: linear-gradient(135deg, #007bbf 0%, #005a8a 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .chatbot-header h1 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .chatbot-header p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f8fbff;
        }

        .message {
            margin-bottom: 15px;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bot-message {
            background: white;
            padding: 12px 16px;
            border-radius: 18px 18px 18px 5px;
            box-shadow: 0 2px 10px rgba(0, 123, 191, 0.1);
            max-width: 80%;
        }

        .user-message {
            background: #007bbf;
            color: white;
            padding: 12px 16px;
            border-radius: 18px 18px 5px 18px;
            margin-left: auto;
            max-width: 80%;
            text-align: right;
        }

        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        .chat-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
        }

        .chat-input:focus {
            border-color: #007bbf;
        }

        .quick-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-btn {
            background: #007bbf;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-btn:hover {
            background: #005a8a;
            transform: translateY(-1px);
        }

        .form-container {
            display: none;
            padding: 20px;
            background: white;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #007bbf;
        }

        .submit-btn {
            background: #007bbf;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s;
        }

        .submit-btn:hover {
            background: #005a8a;
        }

        .privacy-note {
            font-size: 0.8em;
            color: #666;
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background: #f0f8ff;
            border-radius: 8px;
        }

        .back-btn {
            background: #ccc;
            color: #333;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 15px;
        }

        .back-btn:hover {
            background: #bbb;
        }

        /* Mobile responsiveness */
        @media (max-width: 480px) {
            .chatbot-container {
                max-width: 100%;
                margin: 0;
                border-radius: 0;
                height: 100vh;
            }
            
            .chat-messages {
                height: calc(100vh - 200px);
            }
        }
    </style>
</head>
<body>
    <div class="chatbot-container">
        <!-- Chat Interface -->
        <div id="chat-view">
            <div class="chatbot-header">
                <h1>ü¶∑ Bright Smile Dental</h1>
                <p>Your AI Assistant</p>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message">
                    <div class="bot-message">
                        Hi! I'm your Bright Smile Dental assistant. How can I help you today?
                    </div>
                </div>
            </div>
            
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." />
                <div class="quick-buttons">
                    <button class="quick-btn" onclick="handleQuickAction('hours')">Office Hours</button>
                    <button class="quick-btn" onclick="handleQuickAction('services')">Services</button>
                    <button class="quick-btn" onclick="handleQuickAction('insurance')">Insurance</button>
                    <button class="quick-btn" onclick="handleQuickAction('book')">Book Appointment</button>
                </div>
            </div>
        </div>

        <!-- Appointment Form -->
        <div id="form-view" class="form-container">
            <button class="back-btn" onclick="showChat()">‚Üê Back to Chat</button>
            <h3 style="color: #007bbf; margin-bottom: 20px;">Book Your Appointment</h3>
            
            <form id="appointmentForm">
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="date">Preferred Date *</label>
                    <input type="date" id="date" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="treatment">Treatment Type *</label>
                    <select id="treatment" name="treatment" required>
                        <option value="">Select a service</option>
                        <option value="cleaning">Cleaning & Checkup</option>
                        <option value="filling">Filling</option>
                        <option value="crown">Crown/Bridge</option>
                        <option value="whitening">Teeth Whitening</option>
                        <option value="extraction">Tooth Extraction</option>
                        <option value="consultation">Consultation</option>
                        <option value="emergency">Emergency Visit</option>
                    </select>
                </div>
                
                <button type="submit" class="submit-btn">Book Appointment</button>
            </form>
            
            <div class="privacy-note">
                üîí We do not store sensitive health data. For emergencies, please call our office directly at (555) 123-4567.
            </div>
        </div>
    </div>

    <script>
        // Knowledge base for the AI assistant
        const knowledgeBase = {
            hours: "We're open Monday-Friday 8AM-6PM, Saturday 9AM-3PM. Closed Sundays.",
            services: "We offer cleanings, fillings, crowns, whitening, extractions, root canals, and emergency care. All services use modern, gentle techniques.",
            insurance: "We accept most major insurance plans including Blue Cross, Aetna, Delta Dental, and Cigna. We also offer payment plans!",
            costs: "Cleaning: $80-120, Filling: $150-300, Crown: $800-1500, Whitening: $300-600. Exact costs depend on your specific needs and insurance.",
            emergency: "For dental emergencies, call us at (555) 123-4567. We have same-day emergency slots available.",
            location: "We're located at 123 Main Street, Downtown. Free parking available. Near the blue line metro station.",
            preparation: "Please arrive 15 minutes early, bring your insurance card and ID. Brush your teeth before your visit if possible."
        };

        // Get current date for form minimum
        document.getElementById('date').min = new Date().toISOString().split('T')[0];

        // Chat functionality
        function addMessage(message, isUser = false) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message';
            
            const messageContent = document.createElement('div');
            messageContent.className = isUser ? 'user-message' : 'bot-message';
            messageContent.textContent = message;
            
            messageDiv.appendChild(messageContent);
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function getBotResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            // Check for keywords and provide appropriate responses
            if (message.includes('hour') || message.includes('time') || message.includes('open')) {
                return knowledgeBase.hours;
            } else if (message.includes('service') || message.includes('treatment') || message.includes('procedure')) {
                return knowledgeBase.services;
            } else if (message.includes('insurance') || message.includes('coverage')) {
                return knowledgeBase.insurance;
            } else if (message.includes('cost') || message.includes('price') || message.includes('fee')) {
                return knowledgeBase.costs;
            } else if (message.includes('emergency') || message.includes('urgent') || message.includes('pain')) {
                return knowledgeBase.emergency;
            } else if (message.includes('location') || message.includes('address') || message.includes('where')) {
                return knowledgeBase.location;
            } else if (message.includes('prepare') || message.includes('bring') || message.includes('before')) {
                return knowledgeBase.preparation;
            } else if (message.includes('book') || message.includes('appointment') || message.includes('schedule')) {
                return "I'd be happy to help you book an appointment! Let me open the booking form for you.";
            } else if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
                return "Hello! Welcome to Bright Smile Dental. I can help you with appointments, answer questions about our services, or provide information about office hours and insurance. What would you like to know?";
            } else if (message.includes('thank')) {
                return "You're welcome! Is there anything else I can help you with today?";
            } else {
                return "I'm here to help with appointments, office hours, services, insurance questions, and general information. You can also use the quick buttons below, or ask me anything about Bright Smile Dental!";
            }
        }

        function handleQuickAction(action) {
            let response = '';
            let userMessage = '';
            
            switch(action) {
                case 'hours':
                    userMessage = 'What are your office hours?';
                    response = knowledgeBase.hours;
                    break;
                case 'services':
                    userMessage = 'What services do you offer?';
                    response = knowledgeBase.services;
                    break;
                case 'insurance':
                    userMessage = 'What insurance do you accept?';
                    response = knowledgeBase.insurance;
                    break;
                case 'book':
                    userMessage = 'I want to book an appointment';
                    response = "Perfect! Let me open the appointment booking form for you.";
                    break;
            }
            
            addMessage(userMessage, true);
            setTimeout(() => {
                addMessage(response);
                if (action === 'book') {
                    setTimeout(() => showForm(), 500);
                }
            }, 500);
        }

        function showForm() {
            document.getElementById('chat-view').style.display = 'none';
            document.getElementById('form-view').style.display = 'block';
        }

        function showChat() {
            document.getElementById('chat-view').style.display = 'block';
            document.getElementById('form-view').style.display = 'none';
        }

        // Handle chat input
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const message = this.value.trim();
                if (message) {
                    addMessage(message, true);
                    this.value = '';
                    
                    setTimeout(() => {
                        const response = getBotResponse(message);
                        addMessage(response);
                        
                        // If user asks about booking, show form
                        if (message.toLowerCase().includes('book') || message.toLowerCase().includes('appointment')) {
                            setTimeout(() => showForm(), 1000);
                        }
                    }, 500);
                }
            }
        });

        // Handle form submission
        document.getElementById('appointmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const name = formData.get('name');
            const phone = formData.get('phone');
            const email = formData.get('email');
            const date = formData.get('date');
            const treatment = formData.get('treatment');
            
            // Here you would normally send to Google Sheets
            // For demo purposes, we'll show a confirmation
            showConfirmation(name, date, treatment);
        });

        function showConfirmation(name, date, treatment) {
            const formView = document.getElementById('form-view');
            formView.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 3em; margin-bottom: 20px;">‚úÖ</div>
                    <h3 style="color: #007bbf; margin-bottom: 15px;">Appointment Request Received!</h3>
                    <p style="margin-bottom: 10px;"><strong>Name:</strong> ${name}</p>
                    <p style="margin-bottom: 10px;"><strong>Date:</strong> ${new Date(date).toLocaleDateString()}</p>
                    <p style="margin-bottom: 20px;"><strong>Service:</strong> ${treatment}</p>
                    <p style="color: #666; margin-bottom: 20px;">
                        We'll call you within 24 hours to confirm your appointment time. 
                        You'll also receive an SMS reminder!
                    </p>
                    <button class="submit-btn" onclick="resetChat()">Book Another Appointment</button>
                    <div class="privacy-note" style="margin-top: 20px;">
                        üîí We do not store sensitive health data. For emergencies, please call our office directly at (555) 123-4567.
                    </div>
                </div>
            `;
        }

        function resetChat() {
            location.reload();
        }

        // Initialize chat with welcome message
        window.onload = function() {
            setTimeout(() => {
                addMessage("Feel free to ask me about our services, office hours, insurance, or click 'Book Appointment' when you're ready to schedule!");
            }, 1000);
        };
    </script>
</body>
</html>
